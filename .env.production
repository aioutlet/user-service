# =============================================================================
# User Service - Production Environment Configuration
# =============================================================================
# Copy this content to .env file for production deployment
# For Azure App Service: These will be set as Application Settings

# =============================================================================
# Server Configuration
# =============================================================================
NODE_ENV=production
PORT=3002
HOST=0.0.0.0
SERVICE_NAME=user-service
SERVICE_VERSION=1.0.0

# =============================================================================
# Database Configuration
# =============================================================================
# Azure Cosmos DB or MongoDB Atlas
# Format: mongodb://[username:password@]host[:port][/database][?options]
# Breaking down the URI parts:
# - Protocol: mongodb://
# - Username: prod_user
# - Password: prod_pass_secure_456
# - Host: your-production-mongodb-host.com (replace with actual host)
# - Port: 27017 (default MongoDB port)
# - Database: user_service_db
# - Options: ?authSource=admin&ssl=true&retryWrites=true&w=majority
MONGODB_URI=mongodb://prod_user:prod_pass_secure_456@your-production-mongodb-host.com:27017/user_service_db?authSource=admin&ssl=true&retryWrites=true&w=majority

# =============================================================================
# Security Configuration
# =============================================================================
# JWT Configuration - Use Azure Key Vault in production
JWT_SECRET=your_super_secure_jwt_secret_minimum_64_characters_long_for_production
JWT_EXPIRES_IN=24h

# Password Security - Higher rounds for production
BCRYPT_ROUNDS=12

# =============================================================================
# External Services Configuration
# =============================================================================
# Production service endpoints
AUDIT_SERVICE_URL=https://audit-service.aioutlet.com
NOTIFICATION_SERVICE_URL=https://notification-service.aioutlet.com

# =============================================================================
# CORS Configuration
# =============================================================================
# Production domains only
CORS_ORIGIN=https://app.aioutlet.com,https://admin.aioutlet.com

# =============================================================================
# Rate Limiting Configuration
# =============================================================================
# Stricter for production
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# Production Settings
# =============================================================================
HOT_RELOAD=false
DEBUG_MODE=false

# =============================================================================
# Security Features
# =============================================================================
ENABLE_SECURITY_HEADERS=true
ENABLE_RATE_LIMITING=true
ENABLE_COMPRESSION=true
ENABLE_CACHING=true

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_TO_CONSOLE=true
LOG_TO_FILE=false
LOG_FILE_PATH=/app/logs/user-service.log

# =============================================================================
# Observability Configuration  
# =============================================================================
# Tracing - Enabled for production
ENABLE_TRACING=true
OTEL_EXPORTER_OTLP_ENDPOINT=https://your-azure-monitor-endpoint/v1/traces
OTEL_RESOURCE_ATTRIBUTES=service.name=user-service,service.version=1.0.0,deployment.environment=production

# Correlation ID
CORRELATION_ID_HEADER=x-correlation-id
